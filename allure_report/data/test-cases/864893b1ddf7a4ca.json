{"uid":"864893b1ddf7a4ca","name":"Код 400 при попытке принять заказ без id заказа или курьера","fullName":"tests.test_accept_order.TestAcceptOrder#test_accept_order_without_id_failed","historyId":"d565c73104c017203650fb0c73f5306d","time":{"start":1765691846976,"stop":1765691847726,"duration":750},"status":"failed","statusMessage":"AssertionError: assert 404 == 400\n +  where 404 = <Response [404]>.status_code","statusTrace":"self = <tests.test_accept_order.TestAcceptOrder object at 0x104fc9d10>, get_courier_id_and_delete = 670879, get_order_id_and_delete = 448613, parameter = 'id'\ntest_data = ''\n\n    @pytest.mark.parametrize(\"parameter, test_data\",\n                             [\n                                 (\"id\", \"\"),\n                                 (\"courierId\", \"\"),\n                             ])\n    @allure.title(\"Код 400 при попытке принять заказ без id заказа или курьера\")\n    def test_accept_order_without_id_failed(self, get_courier_id_and_delete, get_order_id_and_delete, parameter, test_data):\n        with allure.step(\"Создаем курьера и получаем его id\"):\n            courier_id = get_courier_id_and_delete\n        with allure.step(\"Создаем заказ и получаем его id\"):\n            order_id = get_order_id_and_delete\n        with allure.step(f\"Подменяем тестовые данные {parameter}\"):\n            data_dict = {\"id\": order_id,\n                         \"courierId\": courier_id}\n            data_dict[parameter] = test_data\n        with allure.step(\"Принимаем заказ\"):\n            response = OrderMethods.accept_order(data_dict[\"id\"], data_dict[\"courierId\"])\n>           assert response.status_code == AcceptOrderResponses.CONFLICT_400[\"status_code\"]\nE           assert 404 == 400\nE            +  where 404 = <Response [404]>.status_code\n\ntests/test_accept_order.py:38: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1765691837336,"stop":1765691837351,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"get_courier_id_and_delete","time":{"start":1765691843415,"stop":1765691845254,"duration":1839},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"get_order_id_and_delete","time":{"start":1765691845255,"stop":1765691846974,"duration":1719},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: assert 404 == 400\n +  where 404 = <Response [404]>.status_code","statusTrace":"self = <tests.test_accept_order.TestAcceptOrder object at 0x104fc9d10>, get_courier_id_and_delete = 670879, get_order_id_and_delete = 448613, parameter = 'id'\ntest_data = ''\n\n    @pytest.mark.parametrize(\"parameter, test_data\",\n                             [\n                                 (\"id\", \"\"),\n                                 (\"courierId\", \"\"),\n                             ])\n    @allure.title(\"Код 400 при попытке принять заказ без id заказа или курьера\")\n    def test_accept_order_without_id_failed(self, get_courier_id_and_delete, get_order_id_and_delete, parameter, test_data):\n        with allure.step(\"Создаем курьера и получаем его id\"):\n            courier_id = get_courier_id_and_delete\n        with allure.step(\"Создаем заказ и получаем его id\"):\n            order_id = get_order_id_and_delete\n        with allure.step(f\"Подменяем тестовые данные {parameter}\"):\n            data_dict = {\"id\": order_id,\n                         \"courierId\": courier_id}\n            data_dict[parameter] = test_data\n        with allure.step(\"Принимаем заказ\"):\n            response = OrderMethods.accept_order(data_dict[\"id\"], data_dict[\"courierId\"])\n>           assert response.status_code == AcceptOrderResponses.CONFLICT_400[\"status_code\"]\nE           assert 404 == 400\nE            +  where 404 = <Response [404]>.status_code\n\ntests/test_accept_order.py:38: AssertionError","steps":[{"name":"Создаем курьера и получаем его id","time":{"start":1765691846976,"stop":1765691846976,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Создаем заказ и получаем его id","time":{"start":1765691846976,"stop":1765691846976,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Подменяем тестовые данные id","time":{"start":1765691846976,"stop":1765691846976,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Принимаем заказ","time":{"start":1765691846976,"stop":1765691847722,"duration":746},"status":"failed","statusMessage":"AssertionError: assert 404 == 400\n +  where 404 = <Response [404]>.status_code\n","statusTrace":"  File \"/Users/hannakulpo/PycharmProjects/Sprint_7/tests/test_accept_order.py\", line 38, in test_accept_order_without_id_failed\n    assert response.status_code == AcceptOrderResponses.CONFLICT_400[\"status_code\"]\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":0,"stepsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":0,"stepsCount":4,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"get_order_id_and_delete::0","time":{"start":1765691847752,"stop":1765691848577,"duration":825},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"get_courier_id_and_delete::0","time":{"start":1765691848579,"stop":1765691849636,"duration":1057},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_accept_order"},{"name":"subSuite","value":"TestAcceptOrder"},{"name":"host","value":"Noutbuk-HannaKulpo.local"},{"name":"thread","value":"5283-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_accept_order"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"parameter","value":"'id'"},{"name":"test_data","value":"''"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":[]},"source":"864893b1ddf7a4ca.json","parameterValues":["'id'","''"]}